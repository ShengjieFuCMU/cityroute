@startuml
actor Traveler
participant "UI" as UI
participant "PlannerService" as PS
participant "Clusterer" as CL
participant "Router" as RT
participant "Itinerary" as IT

Traveler -> UI: Click Generate
UI -> PS: generate(prefs, pois, locks?)
PS -> CL: cluster(pois, k = prefs.days)
CL --> PS: dayClusters
PS -> RT: route(dayClusters, locks?)
RT --> PS: orderedDays
PS -> IT: build(orderedDays, hotel?, meals?)
PS --> UI: Show itinerary (Day 1..k, times, warnings)
@enduml

